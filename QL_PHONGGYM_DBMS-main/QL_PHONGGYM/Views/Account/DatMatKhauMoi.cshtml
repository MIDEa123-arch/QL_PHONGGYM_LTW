@model QL_PHONGGYM.ViewModel.ResetPasswordViewModel

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <style>
        input[type="password"]::-ms-reveal,
        input[type="password"]::-ms-clear {
            display: none;
        }

        .password-wrapper {
            position: relative;
        }

        .password-toggle {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #6c757d;
            font-size: 18px;
            user-select: none;
            z-index: 10;
        }

            .password-toggle:hover {
                color: #0d6efd;
            }
    </style>
</head>
<body class="container-fluid min-vh-100 d-flex justify-content-center align-items-center">
    <div class="d-flex flex-column align-items-center px-3" style="width: 500px">
        <img src="~/Content/Images/logo.png" class="mb-3" style="width: 8rem" />
        <span class="text-primary fw-bold fs-2 mb-3">Tạo mật khẩu mới</span>
        @using (Html.BeginForm("DatMatKhauMoi", "Account", FormMethod.Post, new { role = "form", @class = "w-100 d-flex flex-column" }))
        {
            @Html.AntiForgeryToken()
            <input name="email" value="@ViewBag.Email" hidden/>
            <label class="fs-6 mb-2">Mật khẩu</label>
            <div class="password-wrapper">
                @Html.TextBoxFor(m => m.MatKhau, new
                {
                    @class = "form-control py-2 px-3 w-100 mb-1",
                    placeholder = "Nhập mật khẩu của bạn",
                    required = "required",
                    type = "password",
                    id = "passwordInput1"
                })
                <i class="bi bi-eye-slash password-toggle" id="togglePassword1"></i>
            </div>

            <span class="text-secondary small d-flex gap-2">
                <i class="bi bi-exclamation-diamond text-secondary"></i>
                Mật khẩu tối thiểu có 6 ký tự
            </span>
            @Html.ValidationMessageFor(m => m.MatKhau, "", new { @class = "text-danger small mt-1" })


            <label class="fs-6 mb-2 mt-3">Nhập lại mật khẩu</label>
            <div class="password-wrapper">
                @Html.TextBoxFor(m => m.XacNhanMatKhau, new
                {
                    @class = "form-control py-2 px-3 w-100 mb-1",
                    placeholder = "Nhập mật khẩu của bạn",
                    required = "required",
                    type = "password",
                    id = "passwordInput2"
                })
                <i class="bi bi-eye-slash password-toggle" id="togglePassword2"></i>
            </div>

            @Html.ValidationMessageFor(m => m.XacNhanMatKhau, "", new { @class = "text-danger small mt-1" })


            <div class="d-flex gap-3 mt-4">
                <a href="@Url.Action("Login", "Account")" class="btn btn-outline-secondary text-decoration-none w-50 text-center fs-6 fw-bold d-flex justify-content-center align-items-center gap-2">
                    <i class="bi bi-arrow-left-short fs-3"></i>
                    Quay lại đăng nhập
                </a>
                <button class="btn btn-primary w-50 text-center fs-6 fw-bold d-flex justify-content-center align-items-center">Tiếp tục</button>
            </div>
        }
    </div>
</body>

</html>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(function () {
        $('#togglePassword1').on('click', function () {
            var $pwd = $('#passwordInput1');
            if ($pwd.attr('type') === 'password') {
                $pwd.attr('type', 'text');
                $(this).removeClass('bi-eye-slash').addClass('bi-eye');
            } else {
                $pwd.attr('type', 'password');
                $(this).removeClass('bi-eye').addClass('bi-eye-slash');
            }
        });

        $('#togglePassword2').on('click', function () {
            var $pwd = $('#passwordInput2');
            if ($pwd.attr('type') === 'password') {
                $pwd.attr('type', 'text');
                $(this).removeClass('bi-eye-slash').addClass('bi-eye');
            } else {
                $pwd.attr('type', 'password');
                $(this).removeClass('bi-eye').addClass('bi-eye-slash');
            }
        });
    });
</script>
